# Load Balancer Configuration File
# Lines starting with # are comments

[server]
# Port to listen on
port = 3030

# Maximum number of concurrent connections
max_connections = 1000

# Server bind address (0.0.0.0 for all interfaces)
bind_address = 0.0.0.0

[load_balancer]
# Load balancing algorithm
# Options: round_robin, least_connections, ip_hash, weighted_round_robin, random
algorithm = round_robin

# Backend servers
# Format: host:port:weight (weight is optional, defaults to 1)
backend1 = localhost:3001:1
backend2 = localhost:3002:1
backend3 = localhost:3003:1
backend4 = localhost:3004:1
backend5 = localhost:3005:1

[health_check]
# Health check interval in seconds
interval = 30

# Health check timeout in seconds
timeout = 5

# Health check endpoint path
path = /health

# Number of consecutive failures before marking backend as unhealthy
failure_threshold = 3

# Number of consecutive successes before marking backend as healthy
success_threshold = 2

[circuit_breaker]
# Enable circuit breaker functionality
enabled = true

# Number of failures before opening circuit
failure_threshold = 5

# Time to wait before attempting to close circuit (seconds)
timeout = 60

# Percentage of requests to allow through when half-open
half_open_requests = 10

[timeouts]
# Client connection timeout (seconds)
client_timeout = 30

# Backend connection timeout (seconds)
backend_timeout = 10

# Backend read timeout (seconds)
backend_read_timeout = 30

# Backend write timeout (seconds)
backend_write_timeout = 10

[logging]
# Log level: debug, info, warn, error
level = info

# Log file path (empty for stdout)
file = 

# Enable access logging
access_log = true

# Access log file (empty for stdout)
access_log_file = 

[performance]
# Enable TCP keepalive
tcp_keepalive = true

# TCP keepalive idle time (seconds)
tcp_keepalive_idle = 600

# TCP keepalive interval (seconds) 
tcp_keepalive_interval =